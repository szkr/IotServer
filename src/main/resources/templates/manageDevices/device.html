<div class="col-md-4 col-md-offset-3" xmlns:th="http://www.thymeleaf.org">


    <form id="updateDevice">
        <div class="form-group">
            <label for="name" th:text="#{msg.name}">Name</label>
            <input class="form-control" type="text" value="" th:value="${curName}" id="name" name="name"></input>
        </div>
        <div class="form-group">
            <label for="key" th:text="#{msg.key}">Key</label>
            <input class="form-control" type="text" value="" th:value="${curKey}" id="key" name="key"></input>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary" th:text="#{msg.update}">Update</button>
        </div>
    </form>
    <div style="align-content: center; margin-top: 150px;" class="row"><div class="col-md-2 col-md-offset-5">
    <button class="btn btn-primary" id="remove" th:text="#{msg.remove}">Remove</button></div></div>

    <script>/*<![CDATA[*/
    $("document").ready(function () {
        var sId=selectedID;
        $("#updateDevice").submit(function (e) {
            var url = "/manageDevices/"+sId+"/update"; // the script where you handle the form input.

            $.ajax({
                type: "POST",
                url: url,
                data: $("#updateDevice").serialize(), // serializes the form's elements.
                success: function (data) {
                    alert(data);
                    window.location.replace("/manageDevices?open="+sId);
                }
            });

            e.preventDefault(); // avoid to execute the actual submit of the form.
        });

        $("#remove").click(function(){
            $.ajax({
                type: 'DELETE',
                url: "/manageDevices/"+sId+"/remove",
                success: function(msg){
                    alert(msg);
                    window.location.replace("/manageDevices?open=-1");
                }
            });
        });

    });
    /*]]>*/</script>
</div>